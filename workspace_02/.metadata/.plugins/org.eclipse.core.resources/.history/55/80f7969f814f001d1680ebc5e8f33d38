package com.naver.erp;

import java.util.Map;

import org.mybatis.spring.SqlSessionTemplate;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Repository;

@Repository
public class loginDAOImpl implements LoginDAO{
	
	// -------------------------------------------------------------
	// 속성변수 sqlSession에 SqlSessionTemplate 객체를 생성하여 저장
	// -------------------------------------------------------------
	// @Autowired 어노테이션을 붙이면
	// 속성변수의 자료형에 맞는 SqlSessionTemplate 객체를 생성한 후
	// 객체의 메모리 위치 주소 값을 속성변수에 저장한다.
	// ----
	// SqlSessionTemplate 객체는 DB 연동 시 사용하는 객체이다.
	// xml 파일에 있는 SQL 구문을 읽어 DB에 SQL 명령을 내린 후
	// 그 결과값을 받아오는 객체이다.
	@Autowired
	private SqlSessionTemplate sqlSession;
	
	public int getCntLogin(Map<String, String> idPwd) {
		
		int login_idCnt = this.sqlSession.selectOne(
				
				// 실행할 [SQL 구문의 위치 문자]를 지정
				"com.naver.erp.LoginDAO.getCntLogin"
				
				// 실행할 SQL 구문에서 사용할 데이터 지정
				, idPwd
		);
		return login_idCnt;
	}
}
